generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Expense {
  id          String   @id @default(uuid()) @db.Uuid
  user_id     String   @db.Uuid
  amount      Decimal  @db.Decimal(10, 2)
  description String
  category    Category
  confidence  Decimal? @default(1.0) @db.Decimal(3, 2)
  date        DateTime @default(now()) @db.Timestamptz(6)
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @updatedAt @db.Timestamptz(6)

  @@index([user_id, date(sort: Desc)], map: "idx_expenses_user_date")
  @@map("expenses")
}

enum Category {
  food
  transport
  shopping
  entertainment
  utilities
  health
  travel
  other
}
